$(SML_LIB)/basis/basis.mlb

(* fcore *)
fcore/constants.sml
fcore/level/collision.sml

fcore/level/quad-tree-type.sml
fcore/level/quad-tree-fold.sml
fcore/level/quad-tree.sml

vendored/brolib-sml/src/gap_map.sml

fcore/bin-search.sml
fcore/bin-vec.sml

ann
  "allowVectorExps true"
in
  vendored/cozette-sml/fonts/cozette-ascii.mlb
  fcore/block.sml
  fcore/field.sml
  fcore/box.sml
  fcore/level/chain-edge.sml
  fcore/level/player/whip.sml
end


fcore/make-text-vec.sml

fcore/level/wall.sml
fcore/level/platform.sml

fcore/level/graph.sml
fcore/level/path-finding.sml

fcore/level/entity-type.sml
fcore/level/enemy/enemy-type.sml
fcore/level/enemy/enemy-pair.sml
fcore/level/enemy/enemy-map.sml
fcore/level/enemy/falling-enemy-pair.sml
fcore/level/enemy/falling-enemy-map.sml

fcore/core-key.sml
fcore/frame-input-type.sml
fcore/level/player/player-type.sml
fcore/level/level-type.sml
fcore/title/title-type.sml
fcore/options/options-type.sml
fcore/game-type.sml

fcore/level/player/player-patch.sml
fcore/level/enemy/enemy-patch.sml
fcore/level/physics.sml

fcore/level/trace-jump.sml
fcore/level/enemy/enemy-behaviour.sml
fcore/level/enemy/enemy.sml
fcore/level/enemy/falling-enemies.sml

ann
  "allowVectorExps true"
in
  fcore/level/player/sprites/attack/player-attack-stand-left.sml
  fcore/level/player/sprites/attack/player-attack-stand-right.sml

  fcore/level/player/sprites/player-standing-right.sml
  fcore/level/player/sprites/player-standing-right.sml
  fcore/level/player/sprites/player-standing-left.sml

  fcore/level/player/sprites/walk/player-walk-right-1.sml
  fcore/level/player/sprites/walk/player-walk-right-2.sml
  fcore/level/player/sprites/walk/player-walk-right-3.sml
  fcore/level/player/sprites/walk/player-walk-right-4.sml
  fcore/level/player/sprites/walk/player-walk-right-5.sml
  fcore/level/player/sprites/walk/player-walk-right-6.sml
  fcore/level/player/sprites/walk/player-walk-right-7.sml
  fcore/level/player/sprites/walk/player-walk-right-8.sml

  fcore/level/player/sprites/walk/player-walk-left-1.sml
  fcore/level/player/sprites/walk/player-walk-left-2.sml
  fcore/level/player/sprites/walk/player-walk-left-3.sml
  fcore/level/player/sprites/walk/player-walk-left-4.sml
  fcore/level/player/sprites/walk/player-walk-left-5.sml
  fcore/level/player/sprites/walk/player-walk-left-6.sml
  fcore/level/player/sprites/walk/player-walk-left-7.sml
  fcore/level/player/sprites/walk/player-walk-left-8.sml

  fcore/level/player/sprites/jump/player-jump-right-1.sml
  fcore/level/player/sprites/jump/player-jump-right-2.sml
  fcore/level/player/sprites/jump/player-jump-right-3.sml
  fcore/level/player/sprites/jump/player-jump-right-4.sml
  fcore/level/player/sprites/jump/player-jump-right-5.sml

  fcore/level/player/sprites/jump/player-jump-left-1.sml
  fcore/level/player/sprites/jump/player-jump-left-2.sml
  fcore/level/player/sprites/jump/player-jump-left-3.sml
  fcore/level/player/sprites/jump/player-jump-left-4.sml
  fcore/level/player/sprites/jump/player-jump-left-5.sml

  fcore/level/player/player-vec.sml
end

fcore/level/player/player.sml
fcore/level/player/player-attack.sml

fcore/level/projectile.sml
fcore/level/level-update.sml

fcore/title/title-update.sml
fcore/title/title-vec.sml

fcore/options/options-update.sml
fcore/options/options-vec.sml

fcore/game-update.sml

(* shell *)
$(SML_LIB)/basis/mlton.mlb

ann
  "allowFFI true"
in
  ffi/gles3-import.sml
  ffi/glfw-import.sml
  ffi/glfw-input.sml
end

ann
  "allowVectorExps true"
in
  shell/glfw-key-map.sml
end

shell/input-state.sml
shell/parse-controls.sml
shell/gl-shaders.sml
shell/gl-draw.sml
shell/shell.sml
